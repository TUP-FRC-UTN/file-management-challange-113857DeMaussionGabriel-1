<div class="modal fade" id="altaForm" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Nuevo archivo</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form action="" #alta="ngForm" (ngSubmit)="crear(alta)">

          <div class="row mb-3">
            <div class="col">
              <label class="form-label">Nombre</label>
              <input type="text" class="form-control" name="nombre" required #nombre="ngModel" id="nombre"
                [(ngModel)]="nombreNuevo">
            </div>
          </div>

          <div class="row mb-3">
            <div class="col">
              <label for="" class="form-label">Fecha</label>
              <input type="date" class="form-control" name="fecha" required #fecha="ngModel" id="fecha"
                [(ngModel)]="fechaNueva">
            </div>
          </div>

          <div class="row mb-3">
            <div class="col">
              <label for="" class="form-label">Tipo Archivo</label>
              <select class="form-select" aria-label="Default select example" name="selectTipo" required #tipo="ngModel"
                id="tipo" [(ngModel)]="tipoNuevo">
                @for (tipo of tipos.slice(0, 2); track $index) {
                <option value="{{tipo}}">{{tipo}}</option>
                }
              </select>
            </div>
          </div>

          <div class="row mb-3">
            <div class="col">
              <label for="" class="form-label">Carpeta</label>
              <select class="form-select" aria-label="Default select example" name="carpeta" #carpeta="ngModel"
                id="carpeta" [(ngModel)]="carpetaNueva">
                <option value="" selected></option>
                @for (c of obtenerCarpetas(); track $index) {
                <option value="{{c.dato.id}}">{{c.dato.name}}</option>
                }
              </select>
            </div>
          </div>

          <div class="row mb-3">
            <div class="col mb-3">
              <label for="" class="form-label">Dueños</label>
              <span class="d-flex">
                <select class="form-select" aria-label="Default select example" name="dueno" #dueno="ngModel" id="dueno"
                  [(ngModel)]="duenoNuevo">
                  @for (o of duenos; track $index) {
                  <option [ngValue]="o">{{o.name}}</option>
                  }
                </select>
                <button type="button" class="btn btn-secondary ms-2" (click)="agregarDueno(alta.value.dueno)"
                  [disabled]="selectDueno">+</button>
              </span>

            </div>
            <div class="col">
              <label class="form-label">{{(lduenos.length != 0 ? "Dueños agregados:": "")}}</label>
              <div>
                @for (d of lduenos; track $index) {
                <img src="{{d.avatarUrl}}" alt=""
                  style="height: 30px; width: 30px; border-radius: 100px; margin-inline: 3px;">
                }
              </div>

            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-primary" (click)="crear(alta)">Guardar</button>
      </div>
    </div>
  </div>
</div>